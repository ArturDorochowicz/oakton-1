import{_ as s,c as n,o as a,a as e}from"./app.38dc4654.js";const A=JSON.parse('{"title":"Environment Checks","description":"","frontmatter":{},"headers":[{"level":2,"title":"How it works","slug":"how-it-works","link":"#how-it-works","children":[]},{"level":2,"title":"Running Environment Checks","slug":"running-environment-checks","link":"#running-environment-checks","children":[]},{"level":2,"title":"Adding Environment Checks","slug":"adding-environment-checks","link":"#adding-environment-checks","children":[]},{"level":2,"title":"Custom Environment Checks","slug":"custom-environment-checks","link":"#custom-environment-checks","children":[]},{"level":2,"title":"Required Files","slug":"required-files","link":"#required-files","children":[]},{"level":2,"title":"Required Service Registration","slug":"required-service-registration","link":"#required-service-registration","children":[]}],"relativePath":"guide/host/environment.md"}'),l={name:"guide/host/environment.md"},t=e(`<h1 id="environment-checks" tabindex="-1">Environment Checks <a class="header-anchor" href="#environment-checks" aria-hidden="true">#</a></h1><p>The big out of the box feature with Oakton.AspNetCore is the ability to expose environment checks or environment tests directly in your application. Most applications don&#39;t live in isolation. Your code probably has to interact with databases, the file system, configuration mechanisms, and other services. And since it&#39;s an imperfect world, it&#39;s quite possible that you&#39;ve made a deployment in your career and later found out that configuration items were wrong, your dependencies were down, the database credentials you were using were wrong, or all kinds of sundry run of the mill problems.</p><p>Years ago I worked on a system that had worlds of environmental issues during deployments, and after learning about the technique of &quot;environment tests&quot; where you build in automatic checks in your deployment to exercise your system&#39;s integrations, we adapted the approach described here: <a href="http://codebetter.com/jeremymiller/2006/04/06/environment-tests-and-self-diagnosing-configuration-with-structuremap/" target="_blank" rel="noreferrer">Environment Tests and Self-Diagnosing Configuration</a>.</p><p>Flash forward to 2019 (at the time of this release), and Oakton.AspNetCore allows you to build environment checks right into your ASP.Net Core application such that you can verify successful deployments to verify the system configuration quickly rather than waiting for user error reports or testers being blocked because the system is down (which happened to me today as a matter of fact).</p><p>Here&#39;s a quick start. Let&#39;s say that your ASP.Net Core application talks to a single Sql Server application database, and that you expect there to be a connection string in your <em>appsettings.json</em> like so:</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    &quot;connectionString&quot;: &quot;some connection string using integrated security&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>In a perfect world that just works and every thing is hunky dory. In the real world maybe the configuration is missing, the appsettings.json file didn&#39;t get copied over somehow, the service account your application is running under doesn&#39;t have access to the configured Sql Server database (this wasn&#39;t a random example), or the database just flat out doesn&#39;t exist (also not a random example).</p><p>To build in an environment check for database connectivity in this situation with <em>Oakton.AspNetCore</em>, get into your normal ASP.Net Core <code>Startup</code> class, and add an environment check in the <code>Startup.ConfigureServices()</code> method like this:</p><p><a id="snippet-sample_configureservice_with_environmentcheck"></a></p><div class="language-cs"><button title="Copy Code" class="copy"></button><span class="lang">cs</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;">// This method gets called by the runtime. Use this method to add services to the container.</span></span>
<span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">ConfigureServices</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">IServiceCollection</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">services</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// Other registrations we don&#39;t care about...</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// This extension method is in Oakton.AspNetCore</span></span>
<span class="line"><span style="color:#A6ACCD;">    services</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">CheckEnvironment</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">IConfiguration</span><span style="color:#89DDFF;">&gt;(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Can connect to the application database</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">config</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F78C6C;">var</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">connectionString</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> config</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">connectionString</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">];</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F78C6C;">using</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">var</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">conn</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">SqlConnection</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">connectionString</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">            </span><span style="color:#676E95;font-style:italic;">// Just attempt to open the connection. If there&#39;s anything</span></span>
<span class="line"><span style="color:#89DDFF;">            </span><span style="color:#676E95;font-style:italic;">// wrong here, it&#39;s going to throw an exception</span></span>
<span class="line"><span style="color:#A6ACCD;">            conn</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Open</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">});</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// Ignore this please;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    services</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">AddSingleton</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">IDescribedSystemPart</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Describer1</span><span style="color:#89DDFF;">&gt;();</span></span>
<span class="line"><span style="color:#A6ACCD;">    services</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">AddSingleton</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">IDescribedSystemPart</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Describer2</span><span style="color:#89DDFF;">&gt;();</span></span>
<span class="line"><span style="color:#A6ACCD;">    services</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">AddSingleton</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">IDescribedSystemPart</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Describer3</span><span style="color:#89DDFF;">&gt;();</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p><sup><a href="https://github.com/JasperFx/oakton/blob/master/src/MvcApp/Startup.cs#L29-L52" title="Snippet source file">snippet source</a> | <a href="#snippet-sample_configureservice_with_environmentcheck" title="Start of snippet">anchor</a></sup></p><p>Now, during deployments or even just pulling down the code to run locally, we can run the environment checks on our application like so:</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">dotnet run -- check-env</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>Which in the case of our application above, blows up with output like this because I didn&#39;t add configuration for the database in the first place:</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">Running Environment Checks</span></span>
<span class="line"><span style="color:#A6ACCD;">   1.) Failed: Can connect to the application database</span></span>
<span class="line"><span style="color:#A6ACCD;">System.InvalidOperationException: The ConnectionString property has not been initialized.</span></span>
<span class="line"><span style="color:#A6ACCD;">   at System.Data.SqlClient.SqlConnection.PermissionDemand()</span></span>
<span class="line"><span style="color:#A6ACCD;">   at System.Data.SqlClient.SqlConnectionFactory.Permissi</span></span>
<span class="line"><span style="color:#A6ACCD;">onDemand(DbConnection outerConnection)</span></span>
<span class="line"><span style="color:#A6ACCD;">   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource\`1</span></span>
<span class="line"><span style="color:#A6ACCD;"> retry, DbConnectionOptions userOptions)</span></span>
<span class="line"><span style="color:#A6ACCD;">   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource\`1 retry, </span></span>
<span class="line"><span style="color:#A6ACCD;">DbConnectionOptions userOptions)</span></span>
<span class="line"><span style="color:#A6ACCD;">   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource\`1 retry)</span></span>
<span class="line"><span style="color:#A6ACCD;">   at System.Data.SqlClient.SqlConnection.Open()</span></span>
<span class="line"><span style="color:#A6ACCD;">   at MvcApp.Startup.&lt;&gt;c.&lt;ConfigureServices&gt;b_</span></span>
<span class="line"><span style="color:#A6ACCD;">_4_0(IConfiguration config) in /Users/jeremydmiller/code/oakton/src/MvcApp/Startup.cs:line 41</span></span>
<span class="line"><span style="color:#A6ACCD;">   at Oakton.AspNetCore.Environment.EnvironmentCheckExtensions.&lt;&gt;c__DisplayClass2_0\`1.&lt;CheckEnvironment&gt;b__0(IServ</span></span>
<span class="line"><span style="color:#A6ACCD;">iceProvider s, CancellationToken c) in /Users/jeremydmiller/code/oakton/src/Oakton.AspNetCore/Environment/EnvironmentCheckExtensions.cs:line 53</span></span>
<span class="line"><span style="color:#A6ACCD;">   at Oakton.AspNetCore.Environment.LambdaCheck.Assert(IServiceP</span></span>
<span class="line"><span style="color:#A6ACCD;">rovider services, CancellationToken cancellation) in /Users/jeremydmiller/code/oakton/src/Oakton.AspNetCore/Environment/LambdaCheck.cs:line 19</span></span>
<span class="line"><span style="color:#A6ACCD;">   at Oakton.AspNetCore.Environment.EnvironmentChecker.ExecuteAll</span></span>
<span class="line"><span style="color:#A6ACCD;">EnvironmentChecks(IServiceProvider services, CancellationToken token) in /Users/jeremydmiller/code/oakton/src/Oakton.AspNetCore/Environment/EnvironmentChecker.cs:line 31</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>If you ran this command during continuous deployment scripts, the command should cause your build to fail when it detects environment problems.</p><h2 id="how-it-works" tabindex="-1">How it works <a class="header-anchor" href="#how-it-works" aria-hidden="true">#</a></h2><p>There&#39;s not much to it. <em>Oakton.AspNetCore</em> includes this interface:</p><p><a id="snippet-sample_ienvironmentcheck"></a></p><div class="language-cs"><button title="Copy Code" class="copy"></button><span class="lang">cs</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;">/// </span><span style="color:#89DDFF;font-style:italic;">&lt;</span><span style="color:#F07178;font-style:italic;">summary</span><span style="color:#89DDFF;font-style:italic;">&gt;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">///     Executed during bootstrapping time to carry out environment tests</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">///     against the application</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/// </span><span style="color:#89DDFF;font-style:italic;">&lt;/</span><span style="color:#F07178;font-style:italic;">summary</span><span style="color:#89DDFF;font-style:italic;">&gt;</span></span>
<span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">interface</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">IEnvironmentCheck</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">/// </span><span style="color:#89DDFF;font-style:italic;">&lt;</span><span style="color:#F07178;font-style:italic;">summary</span><span style="color:#89DDFF;font-style:italic;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">///     A textual description for command line output that describes</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">///     what is being checked</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">/// </span><span style="color:#89DDFF;font-style:italic;">&lt;/</span><span style="color:#F07178;font-style:italic;">summary</span><span style="color:#89DDFF;font-style:italic;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">string</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Description</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">get</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">/// </span><span style="color:#89DDFF;font-style:italic;">&lt;</span><span style="color:#F07178;font-style:italic;">summary</span><span style="color:#89DDFF;font-style:italic;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">///     Asserts that the current check is valid. Throw an exception</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">///     to denote a failure</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">/// </span><span style="color:#89DDFF;font-style:italic;">&lt;/</span><span style="color:#F07178;font-style:italic;">summary</span><span style="color:#89DDFF;font-style:italic;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">Task</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Assert</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">IServiceProvider</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">services</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">CancellationToken</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">cancellation</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p><sup><a href="https://github.com/JasperFx/oakton/blob/master/src/Oakton/Environment/IEnvironmentCheck.cs#L7-L28" title="Snippet source file">snippet source</a> | <a href="#snippet-sample_ienvironmentcheck" title="Start of snippet">anchor</a></sup></p><p><em>Oakton.AspNetCore</em> is looking for service registrations of this interface in your application&#39;s IoC container. The <code>CheckEnvironment()</code> extension method above just adds a service registration for the <code>IEnvironmentCheck</code> interface that runs the supplied lambda. When executing the environment checks, <em>Oakton.AspNetCore</em> runs each check one within <code>try/catch</code> blocks. If the execution throws an exception, it&#39;s considered to be a failure. Otherwise, it&#39;s a passing check and comes out in the output color coded as green. <em>Oakton.AspNetCore</em> assumes that you take care of any necessary resource cleanup yourself.</p><p>If you ever want to run the environment checks outside of the command line, you can use the <code>EnvironmentChecker.ExecuteAllEnvironmentChecks(IServiceProvider)</code> method.</p><h2 id="running-environment-checks" tabindex="-1">Running Environment Checks <a class="header-anchor" href="#running-environment-checks" aria-hidden="true">#</a></h2><p>To run the environment checks from the command line from your application, use this command:</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">dotnet run -- check-env</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>Just like the <em>run</em> command, you can also override the hosting environment or configuration items like so:</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">dotnet run -- check-env --environment UAT --config:filepath &quot;some file path&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>In addition, you can run the environment checks as part of the <em>run</em> command before starting Kestrel. If the environment checks fail, the application doesn&#39;t start and the <code>Program.Main()</code> method will throw an exception to <a href="https://en.wikipedia.org/wiki/Fail-fast" target="_blank" rel="noreferrer">fail fast</a>.</p><p>In the case of successful environment checks (what you hope happens everytime), you&#39;ll see output like this listing off the successful checks. <em>All environment checks are good!</em> will be highlighted in green.</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">Running Environment Checks</span></span>
<span class="line"><span style="color:#A6ACCD;">   1.) Success: good</span></span>
<span class="line"><span style="color:#A6ACCD;">   2.) Success: also good</span></span>
<span class="line"><span style="color:#A6ACCD;">All environment checks are good!</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>Just to reiterate that all the normal ASP.Net Core options are available, check out the command line help for the <em>check-env</em> command like so:</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">dotnet run -- ? check-env</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>Which gives the following output:</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;"> Usages for &#39;check-env&#39; (Execute all environment checks against the application)</span></span>
<span class="line"><span style="color:#A6ACCD;">  check-env [-f, --file &lt;file&gt;] [-e, --environment &lt;environment&gt;] [-v, --verbose] [-l, --log-level &lt;logleve&gt;] [----config:&lt;prop&gt; &lt;value&gt;]</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  ------------------------------------------------------------------------------------------------------------------</span></span>
<span class="line"><span style="color:#A6ACCD;">    Flags</span></span>
<span class="line"><span style="color:#A6ACCD;">  ------------------------------------------------------------------------------------------------------------------</span></span>
<span class="line"><span style="color:#A6ACCD;">                  [-f, --file &lt;file&gt;] -&gt; Use to optionally write the results of the environment checks to a file</span></span>
<span class="line"><span style="color:#A6ACCD;">    [-e, --environment &lt;environment&gt;] -&gt; Use to override the ASP.Net Environment name</span></span>
<span class="line"><span style="color:#A6ACCD;">                      [-v, --verbose] -&gt; Write out much more information at startup and enables console logging</span></span>
<span class="line"><span style="color:#A6ACCD;">          [-l, --log-level &lt;logleve&gt;] -&gt; Override the log level</span></span>
<span class="line"><span style="color:#A6ACCD;">          [----config:&lt;prop&gt; &lt;value&gt;] -&gt; Overwrite individual configuration items</span></span>
<span class="line"><span style="color:#A6ACCD;">  ------------------------------------------------------------------------------------------------------------------</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h2 id="adding-environment-checks" tabindex="-1">Adding Environment Checks <a class="header-anchor" href="#adding-environment-checks" aria-hidden="true">#</a></h2><p>The easiest thing to do is to use the extension methods on <code>IServiceCollection</code> shown below:</p><p><a id="snippet-sample_configureservice_with_environmentcheck"></a></p><div class="language-cs"><button title="Copy Code" class="copy"></button><span class="lang">cs</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;">// This method gets called by the runtime. Use this method to add services to the container.</span></span>
<span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">ConfigureServices</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">IServiceCollection</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">services</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// Other registrations we don&#39;t care about...</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// This extension method is in Oakton.AspNetCore</span></span>
<span class="line"><span style="color:#A6ACCD;">    services</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">CheckEnvironment</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">IConfiguration</span><span style="color:#89DDFF;">&gt;(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Can connect to the application database</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">config</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F78C6C;">var</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">connectionString</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> config</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">connectionString</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">];</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F78C6C;">using</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">var</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">conn</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">SqlConnection</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">connectionString</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">            </span><span style="color:#676E95;font-style:italic;">// Just attempt to open the connection. If there&#39;s anything</span></span>
<span class="line"><span style="color:#89DDFF;">            </span><span style="color:#676E95;font-style:italic;">// wrong here, it&#39;s going to throw an exception</span></span>
<span class="line"><span style="color:#A6ACCD;">            conn</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Open</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">});</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// Ignore this please;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    services</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">AddSingleton</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">IDescribedSystemPart</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Describer1</span><span style="color:#89DDFF;">&gt;();</span></span>
<span class="line"><span style="color:#A6ACCD;">    services</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">AddSingleton</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">IDescribedSystemPart</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Describer2</span><span style="color:#89DDFF;">&gt;();</span></span>
<span class="line"><span style="color:#A6ACCD;">    services</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">AddSingleton</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">IDescribedSystemPart</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Describer3</span><span style="color:#89DDFF;">&gt;();</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p><sup><a href="https://github.com/JasperFx/oakton/blob/master/src/MvcApp/Startup.cs#L29-L52" title="Snippet source file">snippet source</a> | <a href="#snippet-sample_configureservice_with_environmentcheck" title="Start of snippet">anchor</a></sup></p><p>There are various overloads of <code>CheckEnvironment()</code> for both synchronous and asynchronous checks, and specialized shortcuts as shown above that let you specify a specific service registered in your IoC container for the check. Otherwise, the overloads take in either <code>Func&lt;IServiceProvider, CancellationToken, Task&gt;</code> for asynchronous checks or <code>Action&lt;IServiceProvider&gt;</code> for synchronous code checks.</p><h2 id="custom-environment-checks" tabindex="-1">Custom Environment Checks <a class="header-anchor" href="#custom-environment-checks" aria-hidden="true">#</a></h2><p>You can create custom, reusable environment checks by implementing the interface below:</p><p><a id="snippet-sample_ienvironmentcheck"></a></p><div class="language-cs"><button title="Copy Code" class="copy"></button><span class="lang">cs</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;">/// </span><span style="color:#89DDFF;font-style:italic;">&lt;</span><span style="color:#F07178;font-style:italic;">summary</span><span style="color:#89DDFF;font-style:italic;">&gt;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">///     Executed during bootstrapping time to carry out environment tests</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">///     against the application</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/// </span><span style="color:#89DDFF;font-style:italic;">&lt;/</span><span style="color:#F07178;font-style:italic;">summary</span><span style="color:#89DDFF;font-style:italic;">&gt;</span></span>
<span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">interface</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">IEnvironmentCheck</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">/// </span><span style="color:#89DDFF;font-style:italic;">&lt;</span><span style="color:#F07178;font-style:italic;">summary</span><span style="color:#89DDFF;font-style:italic;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">///     A textual description for command line output that describes</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">///     what is being checked</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">/// </span><span style="color:#89DDFF;font-style:italic;">&lt;/</span><span style="color:#F07178;font-style:italic;">summary</span><span style="color:#89DDFF;font-style:italic;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">string</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Description</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">get</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">/// </span><span style="color:#89DDFF;font-style:italic;">&lt;</span><span style="color:#F07178;font-style:italic;">summary</span><span style="color:#89DDFF;font-style:italic;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">///     Asserts that the current check is valid. Throw an exception</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">///     to denote a failure</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">/// </span><span style="color:#89DDFF;font-style:italic;">&lt;/</span><span style="color:#F07178;font-style:italic;">summary</span><span style="color:#89DDFF;font-style:italic;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">Task</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Assert</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">IServiceProvider</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">services</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">CancellationToken</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">cancellation</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p><sup><a href="https://github.com/JasperFx/oakton/blob/master/src/Oakton/Environment/IEnvironmentCheck.cs#L7-L28" title="Snippet source file">snippet source</a> | <a href="#snippet-sample_ienvironmentcheck" title="Start of snippet">anchor</a></sup></p><p>And adding your custom type to your service registrations when you configure your IoC container (<code>Startup.ConfigureServices()</code>).</p><h2 id="required-files" tabindex="-1">Required Files <a class="header-anchor" href="#required-files" aria-hidden="true">#</a></h2><p>There&#39;s a specialized, built in check for required files like so:</p><p><a id="snippet-sample_checkthatfileexists"></a></p><div class="language-cs"><button title="Copy Code" class="copy"></button><span class="lang">cs</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;">/// </span><span style="color:#89DDFF;font-style:italic;">&lt;</span><span style="color:#F07178;font-style:italic;">summary</span><span style="color:#89DDFF;font-style:italic;">&gt;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">///     Issue an environment check for the existence of a named file</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/// </span><span style="color:#89DDFF;font-style:italic;">&lt;/</span><span style="color:#F07178;font-style:italic;">summary</span><span style="color:#89DDFF;font-style:italic;">&gt;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/// </span><span style="color:#89DDFF;font-style:italic;">&lt;</span><span style="color:#F07178;font-style:italic;">param</span><span style="color:#89DDFF;font-style:italic;"> </span><span style="color:#C792EA;font-style:italic;">name</span><span style="color:#89DDFF;font-style:italic;">=</span><span style="color:#89DDFF;font-style:italic;">&quot;</span><span style="color:#C3E88D;font-style:italic;">services</span><span style="color:#89DDFF;font-style:italic;">&quot;</span><span style="color:#89DDFF;font-style:italic;">&gt;&lt;/</span><span style="color:#F07178;font-style:italic;">param</span><span style="color:#89DDFF;font-style:italic;">&gt;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/// </span><span style="color:#89DDFF;font-style:italic;">&lt;</span><span style="color:#F07178;font-style:italic;">param</span><span style="color:#89DDFF;font-style:italic;"> </span><span style="color:#C792EA;font-style:italic;">name</span><span style="color:#89DDFF;font-style:italic;">=</span><span style="color:#89DDFF;font-style:italic;">&quot;</span><span style="color:#C3E88D;font-style:italic;">path</span><span style="color:#89DDFF;font-style:italic;">&quot;</span><span style="color:#89DDFF;font-style:italic;">&gt;&lt;/</span><span style="color:#F07178;font-style:italic;">param</span><span style="color:#89DDFF;font-style:italic;">&gt;</span></span>
<span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">static</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">CheckThatFileExists</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">this</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">IServiceCollection</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">services</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">string</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">path</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">var</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">check</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">FileExistsCheck</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">path</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    services</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">AddSingleton</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">IEnvironmentCheck</span><span style="color:#89DDFF;">&gt;(</span><span style="color:#A6ACCD;">check</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p><sup><a href="https://github.com/JasperFx/oakton/blob/master/src/Oakton/Environment/EnvironmentCheckExtensions.cs#L74-L87" title="Snippet source file">snippet source</a> | <a href="#snippet-sample_checkthatfileexists" title="Start of snippet">anchor</a></sup></p><h2 id="required-service-registration" tabindex="-1">Required Service Registration <a class="header-anchor" href="#required-service-registration" aria-hidden="true">#</a></h2><p>There&#39;s also a specialized check to ascertain that a required IoC service registration exists:</p><p><a id="snippet-sample_checkserviceisregistered"></a></p><div class="language-cs"><button title="Copy Code" class="copy"></button><span class="lang">cs</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;">/// </span><span style="color:#89DDFF;font-style:italic;">&lt;</span><span style="color:#F07178;font-style:italic;">summary</span><span style="color:#89DDFF;font-style:italic;">&gt;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">///     Issue an environment check for the registration of a service in the underlying IoC</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">///     container</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/// </span><span style="color:#89DDFF;font-style:italic;">&lt;/</span><span style="color:#F07178;font-style:italic;">summary</span><span style="color:#89DDFF;font-style:italic;">&gt;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/// </span><span style="color:#89DDFF;font-style:italic;">&lt;</span><span style="color:#F07178;font-style:italic;">param</span><span style="color:#89DDFF;font-style:italic;"> </span><span style="color:#C792EA;font-style:italic;">name</span><span style="color:#89DDFF;font-style:italic;">=</span><span style="color:#89DDFF;font-style:italic;">&quot;</span><span style="color:#C3E88D;font-style:italic;">services</span><span style="color:#89DDFF;font-style:italic;">&quot;</span><span style="color:#89DDFF;font-style:italic;">&gt;&lt;/</span><span style="color:#F07178;font-style:italic;">param</span><span style="color:#89DDFF;font-style:italic;">&gt;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/// </span><span style="color:#89DDFF;font-style:italic;">&lt;</span><span style="color:#F07178;font-style:italic;">typeparam</span><span style="color:#89DDFF;font-style:italic;"> </span><span style="color:#C792EA;font-style:italic;">name</span><span style="color:#89DDFF;font-style:italic;">=</span><span style="color:#89DDFF;font-style:italic;">&quot;</span><span style="color:#C3E88D;font-style:italic;">T</span><span style="color:#89DDFF;font-style:italic;">&quot;</span><span style="color:#89DDFF;font-style:italic;">&gt;&lt;/</span><span style="color:#F07178;font-style:italic;">typeparam</span><span style="color:#89DDFF;font-style:italic;">&gt;</span></span>
<span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">static</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">CheckServiceIsRegistered</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">T</span><span style="color:#89DDFF;">&gt;(</span><span style="color:#C792EA;">this</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">IServiceCollection</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">services</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    services</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">CheckEnvironment</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">$&quot;</span><span style="color:#C3E88D;">Service </span><span style="color:#89DDFF;">{</span><span style="color:#F78C6C;">typeof</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">T</span><span style="color:#89DDFF;">).</span><span style="color:#A6ACCD;">FullName</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;"> should be registered</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">s</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#A6ACCD;"> s</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">GetRequiredService</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">T</span><span style="color:#89DDFF;">&gt;());</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/// </span><span style="color:#89DDFF;font-style:italic;">&lt;</span><span style="color:#F07178;font-style:italic;">summary</span><span style="color:#89DDFF;font-style:italic;">&gt;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">///     Issue an environment check for the registration of a service in the underlying IoC</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">///     container</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/// </span><span style="color:#89DDFF;font-style:italic;">&lt;/</span><span style="color:#F07178;font-style:italic;">summary</span><span style="color:#89DDFF;font-style:italic;">&gt;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/// </span><span style="color:#89DDFF;font-style:italic;">&lt;</span><span style="color:#F07178;font-style:italic;">param</span><span style="color:#89DDFF;font-style:italic;"> </span><span style="color:#C792EA;font-style:italic;">name</span><span style="color:#89DDFF;font-style:italic;">=</span><span style="color:#89DDFF;font-style:italic;">&quot;</span><span style="color:#C3E88D;font-style:italic;">services</span><span style="color:#89DDFF;font-style:italic;">&quot;</span><span style="color:#89DDFF;font-style:italic;">&gt;&lt;/</span><span style="color:#F07178;font-style:italic;">param</span><span style="color:#89DDFF;font-style:italic;">&gt;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/// </span><span style="color:#89DDFF;font-style:italic;">&lt;</span><span style="color:#F07178;font-style:italic;">param</span><span style="color:#89DDFF;font-style:italic;"> </span><span style="color:#C792EA;font-style:italic;">name</span><span style="color:#89DDFF;font-style:italic;">=</span><span style="color:#89DDFF;font-style:italic;">&quot;</span><span style="color:#C3E88D;font-style:italic;">serviceType</span><span style="color:#89DDFF;font-style:italic;">&quot;</span><span style="color:#89DDFF;font-style:italic;">&gt;&lt;/</span><span style="color:#F07178;font-style:italic;">param</span><span style="color:#89DDFF;font-style:italic;">&gt;</span></span>
<span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">static</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">CheckServiceIsRegistered</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">this</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">IServiceCollection</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">services</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">serviceType</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    services</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">CheckEnvironment</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">$&quot;</span><span style="color:#C3E88D;">Service </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">serviceType</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">FullName</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;"> should be registered</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">s</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#A6ACCD;"> s</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">GetRequiredService</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">serviceType</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p><sup><a href="https://github.com/JasperFx/oakton/blob/master/src/Oakton/Environment/EnvironmentCheckExtensions.cs#L89-L114" title="Snippet source file">snippet source</a> | <a href="#snippet-sample_checkserviceisregistered" title="Start of snippet">anchor</a></sup></p>`,57),o=[t];function p(c,i,r,y,F,D){return a(),n("div",null,o)}const h=s(l,[["render",p]]);export{A as __pageData,h as default};
