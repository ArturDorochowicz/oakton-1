<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Getting Started | Oakton</title>
    <meta name="description" content="Add Robust Command Line Options to .Net Applications">
    <link rel="stylesheet" href="/oakton/assets/style.13643d27.css">
    <link rel="modulepreload" href="/oakton/assets/Home.1de8880b.js">
    <link rel="modulepreload" href="/oakton/assets/AlgoliaSearchBox.244ce150.js">
    <link rel="modulepreload" href="/oakton/assets/app.012e36bd.js">
    <link rel="modulepreload" href="/oakton/assets/guide_index.md.f2c74e1a.lean.js">
    
    <meta name="twitter:title" content="Getting Started | Oakton">
    <meta property="og:title" content="Getting Started | Oakton">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-675d8756><div class="sidebar-button" data-v-675d8756><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/oakton/" aria-label="Oakton, back to home" data-v-675d8756 data-v-4a583abe><!----> Oakton</a><div class="flex-grow" data-v-675d8756></div><div class="nav" data-v-675d8756><nav class="nav-links" data-v-675d8756 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item active" href="/oakton/guide/" data-v-b8818f8c>Guide <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://gitter.im/JasperFx/oakton?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>Gitter | Join Chat <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><!--]--><!----><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/JasperFx/oakton" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav></div><!--[--><!--[--><div class="algolia-search-box" id="docsearch"></div><!--]--><!--]--></header><aside class="sidebar" data-v-83e92a68><nav class="nav-links nav" data-v-83e92a68 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item active" href="/oakton/guide/" data-v-b8818f8c>Guide <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://gitter.im/JasperFx/oakton?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>Gitter | Join Chat <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><!--]--><!----><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/JasperFx/oakton" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav><!--[--><!--]--><ul class="sidebar-links" data-v-83e92a68><!--[--><li class="sidebar-link"><a class="sidebar-link-item active" href="/oakton/guide/">Getting Started</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/oakton/guide/commands">Commands</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/oakton/guide/host/">Integration with IHost</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/oakton/guide/host/run">Improved &quot;Run&quot; Command</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/oakton/guide/host/environment">Environment Checks</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/oakton/guide/host/extensions">Writing Extension Commands</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/oakton/guide/host/describe">The &quot;describe&quot; command</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/oakton/guide/host/resources">Stateful Resources</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="/oakton/guide/bootstrapping">Bootstrapping with CommandExecutor</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/oakton/guide/parsing">Parsing Arguments and Optional Flags</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/oakton/guide/help">Help Text</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/oakton/guide/opts">&quot;Opts&quot; Files</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/oakton/guide/discovery">Command Assembly Discovery</a><!----></li></ul></li><!--]--></ul><!--[--><!--]--></aside><div class="sidebar-mask"></div><main class="page" data-v-7eddb2c4><div class="container" data-v-7eddb2c4><!--[--><!--]--><div style="position:relative;" class="content" data-v-7eddb2c4><div><h1 id="getting-started" tabindex="-1">Getting Started <a class="header-anchor" href="#getting-started" aria-hidden="true">#</a></h1><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>The power of Oakton really comes into play when it&#39;s combined with applications using the <code>HostBuilder</code> mechanism for bootstrapping .Net applications. See <a href="/guide/host/">Integration with IHost</a> for more information.</p></div><p>Oakton originated in the now defunct <a href="https://github.com/DarthFubuMVC/fubucore" target="_blank" rel="noopener noreferrer">FubuCore</a> project in 2010 as a mechanism to allow our .Net development team of that time to build robust console line utilities with these attributes:</p><ul><li>Make it easy to embed and expose command help for user friendliness</li><li>Be consistent with Unix/Linux command line idioms from arguments and optional names -- i.e., make the command line usage feel like Git&#39;s command line syntax</li><li>Easily enable tools to expose multiple commands</li><li>Completely separate the command line parsing from the actual functionality of the console application for easier testing of the command line tools and cleaner code</li><li>Validate user input and helpfully tell them when it&#39;s invalid and what the correct usage should be</li></ul><h2 id="your-first-command" tabindex="-1">Your First Command <a class="header-anchor" href="#your-first-command" aria-hidden="true">#</a></h2><p>To get started, simply create a new dotnet console application and add the <code>Oakton</code> nuget dependency. For your first command, let&#39;s start simple with a command that will simply print out a specified name with an optional color and title. The logical first step is to just create the input class for your command that will establish the arguments and an optional flag:</p><p><a id="snippet-sample_nameinput"></a></p><div class="language-cs"><pre><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">NameInput</span>
<span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Description</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;The name to be printed to the console output&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Name <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Description</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;The color of the text. Default is black&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">ConsoleColor</span> Color <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token operator">=</span> ConsoleColor<span class="token punctuation">.</span>Black<span class="token punctuation">;</span>

    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Description</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;Optional title preceeding the name&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> TitleFlag <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><sup><a href="https://github.com/JasperFx/alba/blob/master/src/quickstart/Program.cs#L19-L31" title="Snippet source file">snippet source</a> | <a href="#snippet-sample_nameinput" title="Start of snippet">anchor</a></sup></p><p>You&#39;ll note that I&#39;ve added some <code>[Oakton.Description]</code> attributes strictly for the purpose of adding user help messages that we&#39;ll take a look at later. Now that we&#39;ve got that out of the way, let&#39;s create our first command:</p><p><a id="snippet-sample_namecommand"></a></p><div class="language-cs"><pre><code><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Description</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;Print somebody&#39;s name&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">NameCommand</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">OaktonCommand<span class="token punctuation">&lt;</span>NameInput<span class="token punctuation">&gt;</span></span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">NameCommand</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// The usage pattern definition here is completely</span>
        <span class="token comment">// optional</span>
        <span class="token function">Usage</span><span class="token punctuation">(</span><span class="token string">&quot;Default Color&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Arguments</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Usage</span><span class="token punctuation">(</span><span class="token string">&quot;Print name with specified color&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Arguments</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Name<span class="token punctuation">,</span> x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Color<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">Execute</span><span class="token punctuation">(</span><span class="token class-name">NameInput</span> input<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword">var</span></span> text <span class="token operator">=</span> input<span class="token punctuation">.</span>Name<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">string</span><span class="token punctuation">.</span><span class="token function">IsNullOrEmpty</span><span class="token punctuation">(</span>input<span class="token punctuation">.</span>TitleFlag<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            text <span class="token operator">=</span> input<span class="token punctuation">.</span>TitleFlag <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> text<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// This is a little helper in Oakton for getting</span>
        <span class="token comment">// cute with colors in the console output</span>
        ConsoleWriter<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span>input<span class="token punctuation">.</span>Color<span class="token punctuation">,</span> text<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Just telling the OS that the command</span>
        <span class="token comment">// finished up okay</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><sup><a href="https://github.com/JasperFx/alba/blob/master/src/quickstart/Program.cs#L33-L63" title="Snippet source file">snippet source</a> | <a href="#snippet-sample_namecommand" title="Start of snippet">anchor</a></sup></p><p>With that in place, let&#39;s wire it up to our applications <code>Program.Main()</code>:</p><p><a id="snippet-sample_quickstart.program1"></a></p><div class="language-cs"><pre><code><span class="token keyword">class</span> <span class="token class-name">Program</span>
<span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> args<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// As long as this doesn&#39;t blow up, we&#39;re good to go</span>
        <span class="token keyword">return</span> CommandExecutor<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">ExecuteCommand</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>NameCommand<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><sup><a href="https://github.com/JasperFx/alba/blob/master/src/quickstart/Program.cs#L8-L17" title="Snippet source file">snippet source</a> | <a href="#snippet-sample_quickstart.program1" title="Start of snippet">anchor</a></sup></p><p>Now, from the command line, I&#39;ll just try <code>dotnet run</code>, which will give us this (slightly elided) output complaining that we&#39;re missing a required argument or two:</p><div class="language-"><pre><code>Invalid usage

name - Print somebody&#39;s name
├── Default Color
│   └── dotnet run -- name &lt;name&gt;
│       └── [-t, --title &lt;title&gt;]
└── Print name with specified color
    └── dotnet run -- name &lt;name&gt;
        Black|DarkBlue|DarkGreen|DarkCyan|DarkRed|DarkMagenta|DarkYellow|Gray|DarkGray|Blue|Green|Cyan|Red|Magenta|Yello
        w|White
        └── [-t, --title &lt;title&gt;]


                  Usage   Description
────────────────────────────────────────────────────────────────────────
                   name   The name to be printed to the console output
                  color   The color of the text. Default is black
  [-t, --title &lt;title&gt;]   Optional title preceeding the name
</code></pre></div><p>Do note that we could get the same output without the angry &quot;Invalid Usage&quot; message by:</p><div class="language-"><pre><code>dotnet run -- help
</code></pre></div><p>or</p><div class="language-"><pre><code>dotnet run -- ?
</code></pre></div><p>Now, to actually run the command, try:</p><div class="language-"><pre><code>dotnet run -- &quot;Alex Smith&quot;
</code></pre></div><p>Which will simply print out <em>Alex Smith</em> to the console output. We had to wrap the text in quotations so that Oakton treated the full name with spaces as a single argument.</p><div class="tip custom-block"><p class="custom-block-title">warning</p><p>The &quot;--&quot; argument shown in the samples here is only a construct of using the &quot;dotnet run&quot; command to separate arguments that should apply to the dotnet tool on the left from arguments that should be passed into our application. If you run the compiled application itself, you will not need the &quot;--&quot; separator.</p></div><p>To print the name in blue, we can type <code>dotnet run -- &quot;Alex Smith&quot; Blue</code>. To add a title, we can use the signature <code>dotnet run -- &quot;Alex Smith&quot; --title Mr</code> or <code>dotnet run -- &quot;Alex Smith&quot; --t Mr</code> to get the output &quot;Mr Alex Smith.&quot;</p><h2 id="how-it-works" tabindex="-1">How it Works <a class="header-anchor" href="#how-it-works" aria-hidden="true">#</a></h2><p>Oakton is attempting to take the tokenized values in the command line input and apply the values to the matching fields or properties on the input class objects before passing that object into the proper command&#39;s <code>Execute()</code> method. Oakton also validates that the signature and flag usage matches the known command syntax.</p><h2 id="multiple-commands-in-one-tool" tabindex="-1">Multiple Commands in One Tool <a class="header-anchor" href="#multiple-commands-in-one-tool" aria-hidden="true">#</a></h2><p>Now, let&#39;s move on to building a tool with multiple commands. Let&#39;s say that we&#39;re trying to partially recreate the git command line with the <code>clean</code> and <code>checkout</code> commands:</p><p><a id="snippet-sample_git_commands"></a></p><div class="language-cs"><pre><code><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Description</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;Switch branches or restore working tree files&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CheckoutCommand</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">OaktonAsyncCommand<span class="token punctuation">&lt;</span>CheckoutInput<span class="token punctuation">&gt;</span></span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task<span class="token punctuation">&lt;</span><span class="token keyword">bool</span><span class="token punctuation">&gt;</span></span> <span class="token function">Execute</span><span class="token punctuation">(</span><span class="token class-name">CheckoutInput</span> input<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">await</span> Task<span class="token punctuation">.</span>CompletedTask<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Description</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;Remove untracked files from the working tree&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CleanCommand</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">OaktonCommand<span class="token punctuation">&lt;</span>CleanInput<span class="token punctuation">&gt;</span></span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">Execute</span><span class="token punctuation">(</span><span class="token class-name">CleanInput</span> input<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><sup><a href="https://github.com/JasperFx/alba/blob/master/src/MultipleCommands/Program.cs#L42-L61" title="Snippet source file">snippet source</a> | <a href="#snippet-sample_git_commands" title="Start of snippet">anchor</a></sup></p><p>In the <code>Program.Main()</code>, the setup is just a little bit different to go discover all the commands held in the application:</p><p><a id="snippet-sample_multiplecommands.program.main"></a></p><div class="language-cs"><pre><code><span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> args<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name"><span class="token keyword">var</span></span> executor <span class="token operator">=</span> CommandExecutor<span class="token punctuation">.</span><span class="token function">For</span><span class="token punctuation">(</span>_ <span class="token operator">=&gt;</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Find and apply all command classes discovered</span>
        <span class="token comment">// in this assembly</span>
        _<span class="token punctuation">.</span><span class="token function">RegisterCommands</span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">Program</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">GetTypeInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Assembly<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> executor<span class="token punctuation">.</span><span class="token function">Execute</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><sup><a href="https://github.com/JasperFx/alba/blob/master/src/MultipleCommands/Program.cs#L11-L23" title="Snippet source file">snippet source</a> | <a href="#snippet-sample_multiplecommands.program.main" title="Start of snippet">anchor</a></sup></p><p>Now then, typing <code>dotnet run</code> without specifying a valid command will give you this:</p><div class="language-"><pre><code>The available commands are:

  Alias      Description
────────────────────────────────────────────────────────────
  checkout   Switch branches or restore working tree files
  clean      Remove untracked files from the working tree
</code></pre></div><p>Typing <code>dotnet run -- help</code> or <code>dotnet run -- ?</code> would give you the same information.</p><p>Our fake <code>clean</code> command has this usage:</p><p><a id="snippet-sample_cleaninput"></a></p><div class="language-cs"><pre><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CleanInput</span>
<span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Description</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;Do it now!&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">bool</span></span> ForceFlag <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">FlagAlias</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string character">&#39;d&#39;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Description</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;Remove untracked directories in addition to untracked files&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">bool</span></span> RemoveUntrackedDirectoriesFlag <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">FlagAlias</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string character">&#39;x&#39;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Description</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;Remove only files ignored by Git&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">bool</span></span> DoNoUseStandardIgnoreRulesFlag <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><sup><a href="https://github.com/JasperFx/alba/blob/master/src/MultipleCommands/Program.cs#L76-L90" title="Snippet source file">snippet source</a> | <a href="#snippet-sample_cleaninput" title="Start of snippet">anchor</a></sup></p><p>To see the specific usage of the <code>clean</code> command, try <code>dotnet run -- help clean</code> or <code>dotnet run -- ? clean</code> to get the usage:</p><div class="language-"><pre><code>clean - Remove untracked files from the working tree
└── Remove untracked files from the working tree
    └── dotnet run -- clean
        ├── [-f, --force]
        ├── [-d, --remove-untracked-directories]
        └── [-x, --do-no-use-standard-ignore-rules]


                                    Usage   Description
─────────────────────────────────────────────────────────────────────────────────────────────────────────
                            [-f, --force]   Do it now!
     [-d, --remove-untracked-directories]   Remove untracked directories in addition to untracked files
  [-x, --do-no-use-standard-ignore-rules]   Remove only files ignored by Git
</code></pre></div></div></div><footer class="page-footer" data-v-7eddb2c4 data-v-fb8d84c6><div class="edit" data-v-fb8d84c6><div class="edit-link" data-v-fb8d84c6 data-v-1ed99556><a class="link" href="https://github.com/JasperFx/oakton/edit/master/docs/guide/index.md" target="_blank" rel="noopener noreferrer" data-v-1ed99556>Suggest changes to this page <svg class="icon outbound icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-1ed99556><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><div class="updated" data-v-fb8d84c6><!----></div></footer><div class="next-and-prev-link" data-v-7eddb2c4 data-v-38ede35f><div class="container" data-v-38ede35f><div class="prev" data-v-38ede35f><!----></div><div class="next" data-v-38ede35f><a class="link" href="/oakton/guide/commands" data-v-38ede35f><span class="text" data-v-38ede35f>Commands</span><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-next" data-v-38ede35f><path d="M19.9,12.4c0.1-0.2,0.1-0.5,0-0.8c-0.1-0.1-0.1-0.2-0.2-0.3l-7-7c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l5.3,5.3H5c-0.6,0-1,0.4-1,1s0.4,1,1,1h11.6l-5.3,5.3c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l7-7C19.8,12.6,19.9,12.5,19.9,12.4z"></path></svg></a></div></div></div><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"guide_bootstrapping.md\":\"ab934c47\",\"guide_commands.md\":\"f71e0a58\",\"guide_discovery.md\":\"3ef6eb31\",\"guide_getting_started.md\":\"54a4dcff\",\"guide_help.md\":\"ca019cf6\",\"guide_host_describe.md\":\"a0c082ce\",\"guide_host_environment.md\":\"6052d8ce\",\"guide_host_extensions.md\":\"ebab13dd\",\"guide_host_index.md\":\"25fe7c0c\",\"guide_host_resources.md\":\"f99b5854\",\"guide_host_run.md\":\"733106af\",\"guide_index.md\":\"f2c74e1a\",\"guide_opts.md\":\"be6d5075\",\"guide_parsing.md\":\"18b78bcb\",\"index.md\":\"cc0e03cc\"}")</script>
    <script type="module" async src="/oakton/assets/app.012e36bd.js"></script>
    
  </body>
</html>